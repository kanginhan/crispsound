(this.webpackJsonpcrispsound=this.webpackJsonpcrispsound||[]).push([[0],{26:function(e,n,t){e.exports=t(72)},31:function(e,n,t){},57:function(e,n){},72:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(20),i=t.n(c),o=(t(31),t(1)),u=t(2);function l(){var e=Object(o.a)(["\n    @media (max-width: ","em) {\n      ",";\n    }\n  "]);return l=function(){return e},e}var s={desktop:1024,tablet:768,mobile:480},f=Object.keys(s).reduce((function(e,n){return e[n]=function(){return Object(u.a)(l(),s[n]/16,u.a.apply(void 0,arguments))},e}),{});function m(){var e=Object(o.a)(["align-items: flex-start"]);return m=function(){return e},e}function d(){var e=Object(o.a)(["\n  background: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n\n  ","\n"]);return d=function(){return e},e}var b=u.b.div(d(),f.mobile(m()));var v=function(e){var n=e.children;return a.a.createElement(b,null,n)},h=t(3);function p(){var e=Object(o.a)(["font-size: 0.7rem;"]);return p=function(){return e},e}function g(){var e=Object(o.a)(["\n  margin-left: 5px;\n\n  ","\n"]);return g=function(){return e},e}function y(){var e=Object(o.a)(["font-size: 1rem;"]);return y=function(){return e},e}function w(){var e=Object(o.a)(["\n  color: #22b8cf;\n\n  ","\n"]);return w=function(){return e},e}function j(){var e=Object(o.a)(["margin-left: 10px;"]);return j=function(){return e},e}function O(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 15px;\n  cursor: pointer;\n\n  ","\n"]);return O=function(){return e},e}var E=u.b.div(O(),f.mobile(j())),k=u.b.i(w(),f.mobile(y())),x=u.b.div(g(),f.mobile(p())),S=function(e){var n=e.children,t=e.check,r=e.onClick;return a.a.createElement(E,{onClick:function(e){return r&&r(e)}},a.a.createElement(k,{className:"material-icons"},t?"check_box":"check_box_outline_blank"),a.a.createElement(x,null,n))},N=t(10),T=t(8),z=["hHW1oY26kxQ","d9KosXZf7ug","8IXDbVK138w","1xCfNv6mgWQ"],R=["chat","clock","studyTime"],C=Object(r.createContext)(),F=function(e,n){switch(n.type){case"TOGGLE":try{var t=JSON.parse(localStorage[n.name]||"{}");localStorage.setItem(n.name,JSON.stringify(Object(T.a)({},t,{use:!e[n.name]})))}catch(r){}return Object(T.a)({},e,Object(N.a)({},n.name,!e[n.name]));default:return e}},B=function(e,n){switch(n.type){case"SETPLAYER":return Object(T.a)({},e,{player:n.player});case"NEXT":return console.log("next"),console.log((e.currentVideo+1+z.length)%z.length),Object(T.a)({},e,{currentVideo:(e.currentVideo+1+z.length)%z.length});case"PREV":return Object(T.a)({},e,{currentVideo:(e.currentVideo-1+z.length)%z.length});default:return e}},V={};R.forEach((function(e){try{localStorage[e]?V[e]=JSON.parse(localStorage[e]).use:V[e]=!0}catch(n){}}));var I=function(e){var n=e.children,t=Object(r.useReducer)(F,V),c=Object(h.a)(t,2),i=c[0],o=c[1],u=Object(r.useReducer)(B,{currentVideo:0}),l=Object(h.a)(u,2),s={widget:i,video:l[0],dispatch:{widget:o,video:l[1]}};return a.a.createElement(C.Provider,{value:s},n)},_=(C.Consumer,C),M=function(e){var n=e.children,t=Object(r.useContext)(_),c=t.widget,i=t.dispatch,o=c[n];return a.a.createElement(S,{check:o,onClick:function(e){i.widget({type:"TOGGLE",name:n})}},n)};function P(){var e=Object(o.a)(["display: flex;"]);return P=function(){return e},e}function W(){var e=Object(o.a)(["\n  display: none;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.8rem;\n  background-color: #ffeb3b;\n\n  .marker {\n    height: 1rem;\n    width: 0.5rem;\n    background-color: #ff9800;\n  }\n\n  ","\n"]);return W=function(){return e},e}function X(){var e=Object(o.a)(["\n  font-size: 0.8rem;\n  margin-right: 0.3rem;\n"]);return X=function(){return e},e}function Y(){var e=Object(o.a)(["display: flex;"]);return Y=function(){return e},e}function D(){var e=Object(o.a)(["\n  display: none;\n  justify-content: flex-end;\n  align-items: center;\n  font-size: 0.7rem;\n  padding: 0.3rem;\n\n  ","\n"]);return D=function(){return e},e}function q(){var e=Object(o.a)(["\n  display: flex;\n"]);return q=function(){return e},e}function J(){var e=Object(o.a)(["font-size: 1rem;"]);return J=function(){return e},e}function A(){var e=Object(o.a)(["\n  font-weight: 800;\n  font-size: 2rem;\n  cursor: pointer;\n\n  ","\n"]);return A=function(){return e},e}function L(){var e=Object(o.a)(['\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-family: "Baloo Bhai", cursive;\n  padding: 5px 5px;\n']);return L=function(){return e},e}var U=u.b.div(L()),G=u.b.div(A(),f.mobile(J())),H=u.b.div(q()),K=u.b.div(D(),f.mobile(Y())),Q=u.b.i(X()),Z=u.b.div(W(),f.mobile(P()));var $=function(){var e=Object(r.useState)(!0),n=Object(h.a)(e,2),t=n[0],c=n[1];return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(Z,null,a.a.createElement("div",{className:"marker"}),a.a.createElement("a",{href:"https://www.digitaltrends.com/mobile/how-to-play-youtube-in-the-background/",className:"title"},"Tip: How to listen in mobile background"),a.a.createElement(Q,{className:"material-icons",onClick:function(){return c(!1)}},"close")),a.a.createElement(K,null,a.a.createElement(Q,{className:"material-icons"},"screen_rotation"),a.a.createElement("div",null,"We only support landscape screen. Please turn your device")),a.a.createElement(U,null,a.a.createElement(G,{className:"handle",onClick:function(){return window.history.go("/")}},"STUDY SOUND"),a.a.createElement(H,null,R.map((function(e,n){return a.a.createElement(M,{key:n},e)})))))};function ee(){var e=Object(o.a)(["\n    background: #fff;\n    width: 100%;\n    height: 100px;\n"]);return ee=function(){return e},e}u.b.div(ee());function ne(){var e=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n"]);return ne=function(){return e},e}function te(){var e=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n"]);return te=function(){return e},e}var re=u.b.div(te()),ae=u.b.div(ne()),ce=function(e){var n=e.children,t=Object(r.useContext)(_),c=t.video,i=t.dispatch,o=Object(r.useRef)({player:null}),u=function(e){e.target.playVideo(),i.video({type:"SETPLAYER",player:e.target}),o.current.player=e.target};function l(e){i.video({type:"NEXT"})}return Object(r.useEffect)((function(){new Promise((function(e){var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t),window.onYouTubeIframeAPIReady=function(){return e(window.YT)}})).then((function(e){new e.Player("player",{videoId:z[c.currentVideo],playerVars:{fs:0,loop:1},events:{onReady:u,onError:l}})}))}),[]),Object(r.useEffect)((function(){c.player&&c.player.loadVideoById(z[c.currentVideo])}),[c.currentVideo]),a.a.createElement(re,{id:"player_wrap"},n,a.a.createElement(ae,{id:"player"}))};var ie=function(){var e="object"===typeof window;function n(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var t=Object(r.useState)(n),a=Object(h.a)(t,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){if(!e)return!1;function t(){i(n())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),c};function oe(){var e=Object(o.a)(["\n  color: white;\n  font-size: 3vw;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.7;\n    transition: all 0.2s linear;\n  }\n\n  @media (min-width: 1300px) {\n    font-size: 40px;\n  }\n"]);return oe=function(){return e},e}function ue(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  background-color: black;\n  padding: 20px 5px;\n"]);return ue=function(){return e},e}var le=u.b.div(ue()),se=u.b.i(oe()),fe=function(){var e=Object(r.useContext)(_).dispatch,n=Object(r.useRef)({orientationType:window.screen.orientation.type}),t=ie();Object(r.useEffect)((function(){var e=window.screen.orientation.type;e!==n.current.orientationType&&(n.current.orientationType=e,c()&&i())}),[t]);var c=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement},i=function(e){if(c()){if(document.exitFullscreen)return document.exitFullscreen();if(document.mozCancelFullScreen)return document.mozCancelFullScreen();if(document.webkitExitFullscreen)return document.webkitExitFullscreen();if(document.msExitFullscreen)return document.msExitFullscreen()}else{var n=document.getElementById("display");if(n.requestFullscreen)return n.requestFullscreen();if(n.mozRequestFullScreen)return n.mozRequestFullScreen();if(n.webkitRequestFullscreen)return n.webkitRequestFullscreen();if(n.msRequestFullscreen)return n.msRequestFullscreen()}};return a.a.createElement(le,null,a.a.createElement(se,{className:"material-icons"},"playlist_play"),a.a.createElement(se,{className:"material-icons",style:{color:"#ff5722"}},"favorite"),a.a.createElement(se,{className:"material-icons",onClick:i,id:"fullscreenBtn"},"fullscreen"),a.a.createElement(se,{className:"material-icons",onClick:function(){e.video({type:"NEXT"})}},"skip_next"),a.a.createElement(se,{className:"material-icons",onClick:function(){e.video({type:"PREV"})}},"skip_previous"))},me=t(18);function de(){var e=Object(o.a)(["\n        height: ","%;\n      "]);return de=function(){return e},e}function be(){var e=Object(o.a)(["\n        width: ","%;\n      "]);return be=function(){return e},e}function ve(){var e=Object(o.a)(["\n      cursor: auto;\n    "]);return ve=function(){return e},e}function he(){var e=Object(o.a)(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  opacity: 0.8;\n  cursor: pointer;\n  transform: ",";\n\n  &:hover {\n    opacity: 0.9;\n  }\n\n  ","\n\n    ","\n    ","\n"]);return he=function(){return e},e}var pe=u.b.div(he(),(function(e){return"translate(".concat(e.xp,"px, ").concat(e.yp,"px)")}),(function(e){return!e.movable&&Object(u.a)(ve())}),(function(e){return e.width&&Object(u.a)(be(),e.width)}),(function(e){return e.height&&Object(u.a)(de(),e.height)})),ge=function(e){var n,t=e.children,c=e.type,i=e.movable,o=e.width,u=e.height,l=e.defaultRatio,s=Object(r.useContext)(_).widget;try{n=JSON.parse(localStorage["".concat(c)])}catch(Y){n={}}var f=Object(r.useState)(0),m=Object(h.a)(f,2),d=m[0],b=m[1],v=Object(r.useState)(0),p=Object(h.a)(v,2),g=p[0],y=p[1],w=Object(r.useState)(n.xratio||l&&l.xratio||0),j=Object(h.a)(w,2),O=j[0],E=j[1],k=Object(r.useState)(n.yratio||l&&l.yratio||0),x=Object(h.a)(k,2),S=x[0],N=x[1],T=Object(r.useState)(!1),z=Object(h.a)(T,2),R=z[0],C=z[1],F=Object(r.useState)({clientX:0,xratio:0}),B=Object(h.a)(F,2),V=B[0],I=B[1],M=ie(),P=function(e){C(!0),I({clientX:e.clientX||e.touches[0].clientX,xratio:O,clientY:e.clientY||e.touches[0].clientY,yratio:S})},W=function(e){if(R){var n=document.getElementById("player_wrap"),t=((e.clientX||e.touches[0].clientX)-V.clientX)/n.clientWidth;E(V.xratio+t),b(n.clientWidth*(V.xratio+t));var r=((e.clientY||e.touches[0].clientY)-V.clientY)/n.clientWidth;N(V.yratio+r),y(n.clientWidth*(V.yratio+r))}},X=function(e){C(!1),n.xratio=O,n.yratio=S;try{localStorage.setItem(c,JSON.stringify(n))}catch(e){}};return Object(r.useEffect)((function(){var e=document.getElementById("player_wrap");b(e.clientWidth*O),y(e.clientWidth*S)}),[M]),i?a.a.createElement(pe,{movable:!0,width:o,height:u,onMouseDown:P,onTouchStart:P,onMouseMove:W,onTouchMove:W,onMouseUp:X,onTouchEnd:X,xp:d,yp:g},s[c]?t:null):a.a.createElement(pe,{movable:!1,width:o,height:u},s[c]?t:null)},ye=t(11),we=t.n(ye),je=t(12),Oe=t.n(je),Ee=t(23),ke=t.n(Ee);function xe(){var e=Object(o.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 0.3rem;\n  padding: 3px 7px;\n  padding-top: 5px;\n"]);return xe=function(){return e},e}function Se(){var e=Object(o.a)(['\n  font-family: "Arial";\n  font-size: 0.8rem;\n  word-break: break-all;\n']);return Se=function(){return e},e}function Ne(){var e=Object(o.a)(["\n  font-size: 0.7rem;\n  color: #9e9e9e;\n  margin-left: 10px;\n  height: 0.9rem;\n  line-height: 0.9rem;\n"]);return Ne=function(){return e},e}function Te(){var e=Object(o.a)(["\n  font-size: 0.8rem;\n  color: #696969;\n  height: 0.9rem;\n  line-height: 0.9rem;\n"]);return Te=function(){return e},e}function ze(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n"]);return ze=function(){return e},e}function Re(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: ",";\n\n  & + & {\n    margin-bottom: 5px;\n  }\n"]);return Re=function(){return e},e}function Ce(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column-reverse;\n  width: 100%;\n  height: 75%;\n  margin-bottom: 3%;\n  overflow: scroll;\n  -ms-overflow-style: none;\n  opacity: 0.9;\n\n  &:hover {\n    opacity: 1;\n  }\n  &::-webkit-scrollbar {\n    display: none !important;\n  }\n"]);return Ce=function(){return e},e}function Fe(){var e=Object(o.a)(["\n  background-color: white;\n  display: flex;\n  align-items: center;\n  border-radius: 0.3rem;\n  width: 100%;\n"]);return Fe=function(){return e},e}function Be(){var e=Object(o.a)(["\n  margin: 0px 5px;\n  cursor: pointer;\n"]);return Be=function(){return e},e}function Ve(){var e=Object(o.a)(["\n  border: 0.5px solid white;\n  padding: 0.5rem;\n  background-color: ",";\n  border-radius: 0.3rem;\n  color: white;\n  width: 100%;\n  cursor: ",";\n"]);return Ve=function(){return e},e}function Ie(){var e=Object(o.a)(["\n  padding-bottom: 10%;\n  padding-left: 5%;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n"]);return Ie=function(){return e},e}var _e=u.b.div(Ie()),Me=u.b.input(Ve(),(function(e){return e.disabled?"gray":"black"}),(function(e){return e.disabled?"not-allowed":"auto"})),Pe=u.b.i(Be()),We=u.b.div(Fe()),Xe=u.b.div(Ce()),Ye=u.b.div(Re(),(function(e){return e.mine?"flex-end":"flex-start"})),De=u.b.div(ze()),qe=u.b.div(Te()),Je=u.b.div(Ne()),Ae=u.b.div(Se()),Le=u.b.div(xe(),(function(e){return e.mine?"#ffeb3b":"white"})),Ue={key:Oe()(),nickName:"CRISPSOUND",time:new Date,contents:"Enjoy music with others to help you concentrate and relax"},Ge=function(){var e=Object(r.useState)(localStorage.nickName),n=Object(h.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)([Ue]),o=Object(h.a)(i,2),u=o[0],l=o[1],s=Object(r.useState)(!1),f=Object(h.a)(s,2),m=f[0],d=f[1],b=Object(r.useRef)({nickName:t,messages:u,connected:m,socket:null}),v=function(e){b.current.nickName=e,c(e)},p=function(e){b.current.messages=e,l(e)},g=function(e){b.current.connected=e,d(e)};Object(r.useEffect)((function(){b.current.socket=window.io&&window.io("http://localhost:8080")||{on:function(){}},b.current.socket.on("connect",(function(){g(!0);var e=b.current.nickName;e||((e=prompt("Please enter your nickname",""))?localStorage.nickName=e:e="anonymous".concat(ke.a.int(1e3,9999)),v(e))})),b.current.socket.on("newMsg",(function(e){"newMsg"===e.type&&p([{key:Oe()(),nickName:e.nick,time:new Date,contents:e.message}].concat(Object(me.a)(b.current.messages.slice(0,99))))})),b.current.socket.on("disconnect",(function(){g(!1)}))}),[]);return a.a.createElement(ge,{type:"chat",width:"40",height:"100"},a.a.createElement(_e,null,a.a.createElement(Xe,null,u.map((function(e){return a.a.createElement(Ye,{key:e.key,mine:e.mine},a.a.createElement(Le,{mine:e.mine},a.a.createElement(De,null,a.a.createElement(qe,null,e.nickName),a.a.createElement(Je,null,a.a.createElement(we.a,{format:"A hh:mm"},e.time))),a.a.createElement(Ae,null,e.contents)))}))),a.a.createElement(We,null,a.a.createElement(Pe,{className:"material-icons",onClick:function(){var e=prompt("Please enter your nickname","");e&&(localStorage.nickName=e,v(e))}},"account_circle"),a.a.createElement(Me,{placeholder:t,onKeyUp:function(e){"Enter"===e.key&&e.target.value&&(p([{key:Oe()(),nickName:t,time:new Date,contents:e.target.value,mine:!0}].concat(Object(me.a)(u.slice(0,99)))),b.current.socket.emit("newMsg",{type:"newMsg",message:e.target.value,nick:t}),e.target.value="")},disabled:!m}))))};function He(){var e=Object(o.a)(['\n  color: white;\n  font-family: "Baloo Bhai", cursive;\n  font-size: 4vw;\n']);return He=function(){return e},e}var Ke=u.b.div(He()),Qe={xratio:.75,yratio:.06},Ze=function(){return a.a.createElement(ge,{type:"clock",movable:!0,defaultRatio:Qe},a.a.createElement(Ke,null,a.a.createElement(we.a,{interval:6e4,format:"A hh:mm"})))};function $e(){var e=Object(o.a)(['\n  color: white;\n  font-family: "Baloo Bhai", cursive;\n  font-size: 4vw;\n']);return $e=function(){return e},e}var en=u.b.div($e()),nn={xratio:.75,yratio:.12},tn=function(){var e=Object(r.useState)(new Date),n=Object(h.a)(e,1)[0],t=Object(r.useState)(0),c=Object(h.a)(t,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){setInterval((function(){var e=(new Date).getTime()-n.getTime();o(e)}),1e3)}),[]),a.a.createElement(ge,{type:"studyTime",movable:!0,defaultRatio:nn},a.a.createElement(en,null,function(e){var n=function(e){var n=Math.floor(e/1e3),t=Math.floor(n/3600);n-=60*t*60;var r=Math.floor(n/60);return{hours:t,minutes:r,seconds:n-=60*r}}(e),t=n.hours,r=n.minutes,a=n.seconds;return"".concat(t.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))}(i)))};function rn(){var e=Object(o.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return rn=function(){return e},e}function an(){var e=Object(o.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return an=function(){return e},e}function cn(){var e=Object(o.a)(['\n  position: relative;\n  width: 100%;\n  padding-top: 56%;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  display: flex;\n  background-color: black;\n  font-family: "Baloo Bhai", cursive;\n']);return cn=function(){return e},e}var on=u.b.div(cn()),un=u.b.div(an()),ln=u.b.div(rn());var sn=function(){return a.a.createElement(on,null,a.a.createElement(un,{id:"display"},a.a.createElement(ln,null,a.a.createElement(ce,null,a.a.createElement(Ge,null),a.a.createElement(Ze,null),a.a.createElement(tn,null)),a.a.createElement(fe,null))))};function fn(){var e=Object(o.a)(["\n  float: left;\n  background: #fff;\n  width: 100%;\n  height: 100px;\n"]);return fn=function(){return e},e}u.b.div(fn());function mn(){var e=Object(o.a)(["\n  float: left;\n  background: #fff;\n  width: 100%;\n  height: 100%;\n"]);return mn=function(){return e},e}var dn=u.b.div(mn());var bn=function(){return a.a.createElement(dn,null,a.a.createElement(sn,null))};function vn(){var e=Object(o.a)(["width: 100%;"]);return vn=function(){return e},e}function hn(){var e=Object(o.a)(["\n  width: 80%;\n  height: 60%;\n  max-width: 1000px;\n  max-height: 600px;\n\n  ","\n"]);return hn=function(){return e},e}var pn=u.b.div(hn(),f.mobile(vn()));var gn=function(){return a.a.createElement(pn,null,a.a.createElement($,null),a.a.createElement(bn,null))};var yn=function(){return a.a.createElement(I,null,a.a.createElement(v,null,a.a.createElement(gn,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(yn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.3ddd35f5.chunk.js.map